<!DOCTYPE html>
<html lang="pt-br">

<head>

    <link rel="shortcut icon" href="../assets/icon/favicon2.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HafuTech | Dashboard</title>


    <link rel="stylesheet" href="./../css/dashboards.css">
    <link rel="stylesheet" href="./../css/estilo.css" />
    <script src="../js/sessao.js"></script>
    <script src="./../js/alerta.js"></script>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        <link href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

    <!-- Biblioteca do Font Awesome -->
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>

    <!-- Biblioteca do ChartApex -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

</head>

<!-- <body onload=" atualizarFeed()"> -->

<body>

        <div class="header-left">

            <a href="../index-logado.html"><img src="../assets/logo.png"  alt="LOGO"></a>

            <div class="hello">
                <h3>Olá, <span id="b_usuario">usuário</span>!</h3>
            </div>

            <div class="btn-nav-white">
                <a href="edicao.html">
                    <h3>Perfil</h3>
                </a>
            </div>

           
            <div class="btn-nav">
                <a href="dashboard.html">
                    <h3>Dashboard</h3>
                </a>
            </div>

            <div class="btn-nav-white">
                <a href="./mural.html">
                    <h3>Edição de Avisos</h3>
                </a>
            </div>

            <div class="btn-logout" onclick="limparSessao()">
                <h3>Sair</h3>
            </div>

        </div>

        <div class="dash">

            <div class="parte-cima">
                <div class="nome-pagina"><span>Regiões e Evasão Escolar</span></div>
                <div class="regiao">
                    <label for="selectRegiao">Região:</label>
                    <select id="selectRegiao">
                        <option value="">Todas</option>
                        <option value="norte">Norte</option>
                        <option value="nordeste">Nordeste</option>
                        <option value="centro-oeste">Centro-Oeste</option>
                        <option value="sudeste">Sudeste</option>
                        <option value="sul">Sul</option>
                    </select>
                </div>

            </div>

            <div class="kpis">
                <div class=" kpi kpi1">
                    <h3>Região mais afetada</h3>
                    <p class="valor-kpi">Nordeste</p>
                    <span class="descricao-kpi">Taxa de evasão média: 7,8%</span>
                </div>

                <div class=" kpi kpi2">
                    <h3>Ano escolar mais afetado</h3>
                    <p class="valor-kpi">3º Ano do Ensino Médio</p>
                    <span class="descricao-kpi">Taxa de evasão: 8,5%</span>
                </div>
            </div>

            <div class="graficos">
                <div id="chart" class="graficoApex"></div>
            </div>

        </div>

    <script>

        b_usuario.innerHTML = sessionStorage.NOME_USUARIO;

        var options = {
            series: [
                {
                    name: 'Escola Pública',
                    type: 'column',
                    data:  [12, 15, 18, 22, 28, 33, 38, 42, 48, 52, 55, 60, 62, 65, 68]
                }
            ],
            chart: {
                height: 350,
                type: 'line',
                stacked: false
            },
            plotOptions: {
                bar: {
                    colors: {
                        ranges: [{
                            from: 0,
                            to: 100,
                            color: '#050835' 
                        }]
                    },
                    columnWidth: '50%'
                }
            },
            dataLabels: {
                enabled: false
            },
            stroke: {
                width: [3]
            },
            title: {
                text: 'Evasão Anual das Escolas Públicas',
                align: 'left',
                offsetX: 110
            },
            xaxis: {
                categories: [
                    2009, 2010, 2011, 2012, 2013, 2014, 2015,
                    2016, 2017, 2018, 2019, 2020, 2021, 2022, 2023
                ]
            },
            yaxis: {
                min: 0,
                max: 100,
                axisTicks: { show: true },
                axisBorder: { show: true, color: '#000000' },
                labels: {
                    style: { colors: '#000000' },
                    formatter: function (val) {
                        return val + "%";
                    }
                },
                title: {
                    text: "Taxa de Evasão (%) - Escola Pública",
                    style: { color: '#000000' }
                },
                tooltip: { enabled: true }
            },
            tooltip: {
                fixed: {
                    enabled: true,
                    position: 'topLeft',
                    offsetY: 30,
                    offsetX: 60
                }
            },
            legend: {
                show: true
            }
        };

        // Renderizar gráfico
        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();
    </script>

</body>

</html>